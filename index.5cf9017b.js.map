{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-9b8bc2b8ab2e1fd4.js","src/index.js","src/js/all-categories.js","src/js/home.js","src/js/pop-up.js","src/js/handle-book-click.js","node_modules/@parcel/runtime-js/lib/runtime-c20254aa3310ebfa.js","src/js/save-book-id.js","src/js/scroll-up.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.5cf9017b.js\\\",\\\"bs6yd\\\":\\\"default-mobile-book-cover.eaf37d8e.png\\\",\\\"1XaNB\\\":\\\"index.2823627f.css\\\",\\\"9FMue\\\":\\\"index.6725937f.js\\\"}\"));","import './js/header.js';\nimport './js/all-categories.js';\nimport './js/support-ukraine.js';\nimport './js/home.js';\n\nimport './js/pop-up.js';\nimport './js/theme.js';\nimport './js/handle-book-click.js';\nimport './js/login-modal.js';\nimport './js/save-book-id.js';\n\nimport './js/scroll-up';\n\nimport './js/loader.js';\n\ndocument.querySelector('.js-home-page').classList.add('active-page');\ndocument.querySelector('.js-home-page-mobile').classList.add('active-page');\n","import booksApiService from './books-service';\nimport loadingToogle from './loader';\n// use methods booksApiService.fetchCategoryList(), booksApiService.fetchTopBooks(),booksApiService.fetchCategory(category), booksApiService.fetchBookById(bookId) for HTTP-requests\n\nimport {\n  categoriesTitle,\n  createMarkupBookGroup,\n  createMarkupTopBooks,\n  topBooksList,\n} from './home';\nconst param = {\n  categoriesSection: document.querySelector('.all-categories'),\n  bookCategoriesList: document.querySelector('.all-categories-list'),\n  bookCategory: document.querySelector('.category'),\n};\nexport const { categoriesSection, bookCategoriesList, bookCategory } = param;\n\n// fetch for all book categories  for sidebar\nasync function fetchCategories() {\n  let data = null;\n  try {\n    data = await booksApiService.fetchCategoryList();\n    // createMarkupBookCategory(data);\n  } catch (error) {\n    console.log(error);\n  }\n  return data;\n}\n\n// markup for all categories list in sidebar\n\nasync function createMarkupBookCategory() {\n  const bookCategories = await fetchCategories();\n  const sortedCategories = bookCategories.sort((a, b) =>\n    a.list_name.localeCompare(b.list_name)\n  );\n  const arrForMarkup = sortedCategories.map(\n    ({ list_name: bookCategoryName }) => {\n      return `<li id=\"${bookCategoryName}\" class=\"category\">${bookCategoryName}</li>`;\n    }\n  );\n  bookCategoriesList.innerHTML = arrForMarkup.join(' ');\n}\ncreateMarkupBookCategory();\n\n//function for add event listener for click on book category in sidebar\ncategoriesSection.addEventListener('click', selectMarkupBookGroup);\n\n// fetch for all book in  category\nasync function fetchBooksOfCategory(targetCategory) {\n  let data = null;\n  try {\n    data = await booksApiService.fetchCategory(targetCategory);\n  } catch (error) {\n    console.log(error);\n  }\n  return data;\n}\n\nasync function selectMarkupBookGroup(evt) {\n  if (evt.target.className === 'category') {\n    topBooksList.innerHTML = '';\n    loadingToogle();\n    categoriesTitle.classList.remove('chosen-category');\n    const listGroups = [...bookCategoriesList.children];\n    listGroups.forEach(elem => {\n      if (elem.classList.contains('chosen-category')) {\n        elem.classList.remove('chosen-category');\n      }\n    });\n\n    evt.target.classList.add('chosen-category');\n    const category = evt.target.textContent;\n    const booksOfCategory = await fetchBooksOfCategory(category);\n    createMarkupBookGroup(booksOfCategory, category);\n    loadingToogle();\n  } else if (evt.target.className === 'all-categories-title') {\n    topBooksList.classList.replace('category-book-page', 'best-books');\n    topBooksList.innerHTML = '';\n    loadingToogle();\n    createMarkupTopBooks();\n    loadingToogle();\n  }\n}\n","import booksApiService from './books-service';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport loadingToogle from './loader';\n// use methods booksApiService.fetchCategoryList(), booksApiService.fetchTopBooks(),booksApiService.fetchCategory(category), booksApiService.fetchBookById(bookId) for HTTP-requests\nconst param = {\n  topBooksList: document.querySelector('.best-books'),\n  mainPage: document.querySelector('.main-content'),\n  categoriesTitle: document.querySelector('.all-categories-title'),\n};\nexport const { topBooksList, mainPage, categoriesTitle } = param;\n\n// fetch data Top Books  for main page\nasync function fetchBooks() {\n  let data = null;\n  try {\n    data = await booksApiService.fetchTopBooks();\n  } catch (error) {\n    fetchError(error);\n  }\n  return data;\n}\n\n// markup for Top Books lists on main page\n\nexport async function createMarkupTopBooks() {\n  loadingToogle();\n  categoriesTitle.classList.add('chosen-category');\n  const bookCategoriesList = document.querySelector('.all-categories-list');\n  const listGroups = [...bookCategoriesList.children];\n  listGroups.forEach(elem => {\n    if (elem.classList.contains('chosen-category')) {\n      elem.classList.remove('chosen-category');\n    }\n  });\n\n  const arrTopBooks = await fetchBooks();\n  const homeHeder = document.querySelector('.home-title');\n  homeHeder.remove();\n\n  const string = `<h1 class=\"home-title\">\n      Best Sellers <span class=\"home-title-part\"> Books </span>\n    </h1>`;\n  mainPage.insertAdjacentHTML('afterbegin', string);\n  createMarkupBookCategories(arrTopBooks, createMarkupBooksList);\n\n  addEventListenerForBTN();\n  loadingToogle();\n}\ncreateMarkupTopBooks();\n\nfunction addEventListenerForBTN() {\n  const buttons = document.querySelectorAll('.best-books-btn');\n  buttons.forEach(btn => btn.addEventListener('click', handleBtnClick));\n}\nfunction createMarkupBooksList(bookslist) {\n  const markupBooks = bookslist.map(({ author, book_image, title, _id }) => {\n    return ` <li id=\"${_id}\" class=\"js-book best-books-link\">\n  <div class=\"book-image\">\n    <img class=\"best-book-icon\" src=\"${book_image}\" alt=\"${title}\" />\n    <div class=\"overlay\">\n      <p class=\"overlay-text\">quick view</p>\n    </div>\n  </div>\n  <div class=\"book-text\">\n    <h3 class=\"best-book-title\">${title}</h3>\n    <p class=\"best-book-author\">${author}</p>\n  </div>\n</li>`;\n  });\n  return markupBooks.join(' ');\n}\n// const image = imageFromBack ? imageFromBack : defaultImage;\n\nfunction createMarkupBookCategories(bookCategories, callback) {\n  const arrForMarkup = bookCategories.map(({ books, list_name }) => {\n    const markupCategories = `  <div class=\"best-books-sections\">\n            <h2 class=\"best-books-heder\">${list_name}</h2>\n            <ul class=\"best-books-list\">\n                      ${callback(books)}\n            </ul>\n            <button type=\"submit\" id=\"${list_name}\" class=\"best-books-btn\">SEE MORE</button>\n          </div>`;\n\n    return markupCategories;\n  });\n  topBooksList.innerHTML = arrForMarkup.join(' ');\n}\n\n//function for add event listener for click button SEE MORE\n\nasync function handleBtnClick(evt) {\n  loadingToogle();\n  pagePosition();\n\n  const books = await fetchTargetCategory(evt);\n  stylizeCategoriesList(evt);\n  createBestsellersPage(books, evt);\n  loadingToogle();\n}\n\nfunction pagePosition() {\n  window.scrollTo(0, 0);\n}\n\nasync function fetchTargetCategory(event) {\n  let data = null;\n  topBooksList.innerHTML = '';\n  try {\n    const targetCategory = event.target.id;\n    data = await booksApiService.fetchCategory(targetCategory);\n  } catch (error) {\n    fetchError(error);\n  }\n  return data;\n}\nfunction stylizeCategoriesList(event) {\n  const targetCategory = event.target.id;\n  categoriesTitle.classList.remove('chosen-category');\n  const bookCategoriesList = document.querySelector('.all-categories-list');\n  const listGroups = [...bookCategoriesList.children];\n  const stylingCategory = listGroups.find(elem => elem.id === targetCategory);\n  stylingCategory.classList.add('chosen-category');\n}\nfunction createBestsellersPage(booklist, event) {\n  if (booklist) {\n    const targetCategory = event.target.id;\n    createMarkupBookGroup(booklist, targetCategory);\n  }\n}\n\n// markup for  list books of category  on main page\n\nexport function createMarkupBookGroup(data, groupName) {\n  changePageTitle(groupName);\n  createBookGroupPage(data);\n  changeBooksPositioning();\n}\n\nfunction changePageTitle(newtitle) {\n  const partsForTitle = separateTitle(newtitle);\n  const homeHeder = document.querySelector('.home-title');\n  homeHeder.remove();\n\n  const string = `<h1 class=\"home-title\">\n      ${partsForTitle[0]} <span class=\"home-title-part\"> ${partsForTitle[1]} </span>\n    </h1>`;\n  mainPage.insertAdjacentHTML('afterbegin', string);\n}\n\nfunction separateTitle(title) {\n  const titleArr = title.split(' ');\n  const arrForGroupTitle = [];\n  if (titleArr.length > 1) {\n    arrForGroupTitle.push(titleArr.splice(titleArr.length - 1, 1).join(''));\n  }\n  arrForGroupTitle.unshift(titleArr.join(' '));\n  return arrForGroupTitle;\n}\n\nfunction changeBooksPositioning() {\n  topBooksList.classList.replace('best-books', 'category-book-page');\n}\n\nfunction createBookGroupPage(books) {\n  const markup = books.map(({ author, book_image, title, _id }) => {\n    return `<li id=\"${_id}\" class=\"js-book group-book-link\">\n  <div class=\"book-image\">\n    <img class=\"group-book-icon\" src=\"${book_image}\" alt=\"${title}\" />\n    <div class=\"overlay\">\n      <p class=\"overlay-text\">quick view</p>\n    </div>\n  </div>\n  <div class=\"book-text\">\n    <h4 class=\"group-book-title\">${title}</h4>\n    <p class=\"group-book-author\">${author}</p>\n  </div>\n</li>`;\n  });\n  topBooksList.innerHTML = markup.join(' ');\n}\n\n// function show error\nfunction fetchError(error) {\n  mainPage.innerHTML = '';\n\n  Notify.failure(\n    'OOPS!!! Something went wrong! Try reloading the page or select another BOOK CATEGORY!!!',\n    {\n      position: 'center-center',\n      timeout: 3000,\n      width: '400px',\n      fontSize: '24px',\n    }\n  );\n}\n","import { save, load, remove } from './storage';\nimport booksApiService from './books-service';\n\n// Use methods booksApiService.fetchCategoryList(), booksApiService.fetchTopBooks(),booksApiService.fetchCategory(category), booksApiService.fetchBookById(bookId) for HTTP-requests\n","//обробити помилку запиту\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport booksApiService from './books-service';\nimport { LOCAL_STORAGE_KEY, load } from './storage';\nimport defaultBookImg from '../images/default-book-cover/default-mobile-book-cover.png';\n\nconst refs = {\n  booksList: document.querySelector('.js-books-list'),\n  backdrop: document.querySelector('.js-backdrop'),\n  modalWin: document.querySelector('.js-modal-window'),\n  closeModalBtn: document.querySelector('.js-modal-window-close-btn'),\n};\n\nrefs.booksList.addEventListener('click', onBookClick);\n\nasync function onBookClick(e) {\n  const targetBook = e.target.closest('.js-book');\n\n  if (!targetBook) {\n    return;\n  }\n\n  const targetBookId = targetBook.id;\n\n  try {\n    const book = await booksApiService.fetchBookById(targetBookId);\n    populateModalWin(book, refs.modalWin);\n    changeButton(targetBookId);\n    showModalWin(refs.backdrop);\n  } catch (error) {\n    Notify.failure('HTTP request failed');\n  }\n}\n\nfunction populateModalWin(book, modalWin) {\n  const {\n    title,\n    author,\n    description,\n    book_image: bookImg,\n    buy_links: buyLinks,\n    _id: id,\n  } = book;\n  const bookImage = modalWin.querySelector('img');\n  const bookTitle = modalWin.querySelector('.modal-book-title');\n  const bookAuthor = modalWin.querySelector('.modal-book-author');\n  const bookDescription = modalWin.querySelector('.modal-book-description');\n  const shopLinks = modalWin.querySelectorAll('a');\n  const addBtn = modalWin.querySelectorAll('.js-modal-btn');\n  bookImage.src = bookImg ? bookImg : defaultBookImg;\n  bookImage.alt = title;\n  bookTitle.textContent = title;\n  bookAuthor.textContent = author;\n  bookDescription.textContent = description\n    ? description\n    : 'book description missing';\n  shopLinks.forEach(link => {\n    const shopLink = buyLinks.find(({ name }) =>\n      name.toLowerCase().includes(link.id)\n    ).url;\n    link.href = shopLink;\n  });\n  addBtn.forEach(btn => {\n    btn.id = id;\n  });\n}\n\nfunction showModalWin(element) {\n  element.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n  document.addEventListener('keydown', onEscPress);\n  refs.backdrop.addEventListener('click', onBackdropClick);\n  refs.closeModalBtn.addEventListener('click', onCloseModalBtnClick);\n}\n\nfunction onCloseModalBtnClick() {\n  refs.backdrop.classList.add('is-hidden');\n  document.body.style.overflow = '';\n  document.removeEventListener('keydown', onEscPress);\n  refs.backdrop.removeEventListener('click', onBackdropClick);\n}\n\nfunction onBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onCloseModalBtnClick();\n  }\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    onCloseModalBtnClick();\n  }\n}\n\nfunction changeButton(bookId) {\n  const savedBooksId = load(LOCAL_STORAGE_KEY) ? load(LOCAL_STORAGE_KEY) : [];\n  if (!savedBooksId.length) {\n    return;\n  }\n  const isBookIdInLocalStorage = savedBooksId.some(id => id === bookId);\n  if (isBookIdInLocalStorage) {\n    hideAddToLSButton();\n    return;\n  }\n  showAddToLSButton();\n}\n\nfunction hideAddToLSButton() {\n  document.querySelector('.js-add-btn').style.display = 'none';\n  document.querySelector('.js-remove-btn').style.display = 'block';\n  document.querySelector('.js-modal-desc-text').style.display = 'block';\n}\n\nfunction showAddToLSButton() {\n  document.querySelector('.js-remove-btn').style.display = 'none';\n  document.querySelector('.js-add-btn').style.display = 'block';\n  document.querySelector('.js-modal-desc-text').style.display = 'none';\n}\n\nexport { hideAddToLSButton, showAddToLSButton };\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"bs6yd\");","import { hideAddToLSButton, showAddToLSButton } from './handle-book-click';\nimport { LOCAL_STORAGE_KEY, load, save } from './storage';\n\nconst refs = {\n  actionLSBtn: document.querySelector('.js-modal-buttons'),\n};\n\nrefs.actionLSBtn.addEventListener('click', onActionLSBtnClick);\n\nfunction onActionLSBtnClick(e) {\n  const savedBooksId = load(LOCAL_STORAGE_KEY);\n  const booksId = savedBooksId ? savedBooksId : [];\n  const targetId = e.target.id;\n  let booksIdForSave = null;\n  const isBookIdInLocalStorage = booksId.some(id => id === targetId);\n  if (isBookIdInLocalStorage) {\n    booksIdForSave = booksId.filter(id => id !== targetId);\n    showAddToLSButton();\n  } else {\n    booksIdForSave = [...booksId, targetId];\n    hideAddToLSButton();\n  }\n\n  save(LOCAL_STORAGE_KEY, booksIdForSave);\n}\n","const btnUpEl = document.querySelector('.btnUp');\nbtnUpEl.addEventListener('click', goTop);\nwindow.addEventListener('scroll', trackScroll);\nfunction trackScroll() {\n  const offset = window.scrollY;\n  const cords = document.documentElement.clientHeight;\n  if (offset > cords) {\n    btnUpEl.classList.add('show');\n  } else {\n    btnUpEl.classList.remove('show');\n  }\n}\nfunction goTop() {\n  if (window.scrollY > 0) {\n    window.scrollBy(0, -75);\n    setTimeout(goTop, 0);\n  }\n}\n"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$4f1c0259bbb55e68$var$param","topBooksList","document","querySelector","mainPage","categoriesTitle","$4f1c0259bbb55e68$export$48d8c770eef7ba65","$4f1c0259bbb55e68$export$bb398f9cbb2bdc79","$4f1c0259bbb55e68$export$8f88c4694595f132","$4f1c0259bbb55e68$var$fetchBooks","$4f1c0259bbb55e68$var$_fetchBooks","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","$46hgj","default","fetchTopBooks","_ctx","sent","$4f1c0259bbb55e68$var$fetchError","t0","$4f1c0259bbb55e68$export$e38a5a979695b36c","$4f1c0259bbb55e68$var$_createMarkupTopBooks","bookCategoriesList","arrTopBooks","$kvC6y","classList","add","$8nrFW","children","forEach","elem","contains","remove","insertAdjacentHTML","$4f1c0259bbb55e68$var$createMarkupBookCategories","$4f1c0259bbb55e68$var$createMarkupBooksList","$4f1c0259bbb55e68$var$addEventListenerForBTN","querySelectorAll","btn","addEventListener","$4f1c0259bbb55e68$var$handleBtnClick","bookslist","map","param1","author","book_image","title","_id","concat","join","bookCategories","callback","arrForMarkup","param2","books","list_name","innerHTML","evt","$4f1c0259bbb55e68$var$_handleBtnClick","$4f1c0259bbb55e68$var$pagePosition","$4f1c0259bbb55e68$var$fetchTargetCategory","$4f1c0259bbb55e68$var$stylizeCategoriesList","$4f1c0259bbb55e68$var$createBestsellersPage","window","scrollTo","event","$4f1c0259bbb55e68$var$_fetchTargetCategory","targetCategory","target","id","fetchCategory","find","booklist","$4f1c0259bbb55e68$export$c83105fe440cac4c","groupName","markup","newtitle","partsForTitle","titleArr","split","arrForGroupTitle","length","push","splice","unshift","$4f1c0259bbb55e68$var$separateTitle","string","$4f1c0259bbb55e68$var$changePageTitle","param3","replace","error","$h6c0i","Notify","failure","position","timeout","width","fontSize","$4227e46b5d799254$var$param","categoriesSection","bookCategory","$4227e46b5d799254$export$7ea7d725a6341e21","$4227e46b5d799254$export$97c2b23beb3d1a8","$4227e46b5d799254$var$fetchCategories","$4227e46b5d799254$var$_fetchCategories","fetchCategoryList","console","log","$4227e46b5d799254$var$_createMarkupBookCategory","sortedCategories","sort","a","b","localeCompare","bookCategoryName","$4227e46b5d799254$var$fetchBooksOfCategory","$4227e46b5d799254$var$_fetchBooksOfCategory","$4227e46b5d799254$var$_selectMarkupBookGroup","category","className","textContent","$4227e46b5d799254$var$createMarkupBookCategory","$9d83e5e159b10845$exports","getBundleURL","resolve","$a49bdd633f40deae$var$refs","booksList","backdrop","modalWin","closeModalBtn","$a49bdd633f40deae$var$_onBookClick","e","targetBook","targetBookId","closest","fetchBookById","$a49bdd633f40deae$var$populateModalWin","$a49bdd633f40deae$var$changeButton","$a49bdd633f40deae$var$showModalWin","book","description","bookImg","buyLinks","buy_links","bookImage","bookTitle","bookAuthor","bookDescription","shopLinks","addBtn","src","alt","link","shopLink","param","name","toLowerCase","includes","url","href","element","body","style","overflow","$a49bdd633f40deae$var$onEscPress","$a49bdd633f40deae$var$onBackdropClick","$a49bdd633f40deae$var$onCloseModalBtnClick","removeEventListener","currentTarget","code","bookId","savedBooksId","$jzQFI","load","LOCAL_STORAGE_KEY","some","$a49bdd633f40deae$export$af0a88fa7b2fe098","$a49bdd633f40deae$export$c33f63469693c2ae","display","actionLSBtn","booksId","targetId","booksIdForSave","filter","save","$17f8071d162f96bc$var$btnUpEl","$17f8071d162f96bc$var$goTop","scrollY","scrollBy","setTimeout","offset","cords","documentElement","clientHeight"],"version":3,"file":"index.5cf9017b.js.map"}