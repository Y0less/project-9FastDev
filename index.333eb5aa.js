!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){o[e]=t},t.parcelRequired7c6=r),r("iE7OH").register(JSON.parse('{"EVgbq":"index.333eb5aa.js","bs6yd":"default-mobile-book-cover.eaf37d8e.png","1XaNB":"index.ce429def.css","9FMue":"index.34e378fc.js"}')),r("i8Q71");var c=r("bpxeT"),a=r("8nrFW"),s=r("2TvXO"),i=r("46hgj"),l=r("kvC6y"),u=(c=r("bpxeT"),a=r("8nrFW"),s=r("2TvXO"),i=r("46hgj"),r("h6c0i")),d=(l=r("kvC6y"),{topBooksList:document.querySelector(".best-books"),mainPage:document.querySelector(".main-content"),categoriesTitle:document.querySelector(".all-categories-title")}),p=d.topBooksList,f=d.mainPage,h=d.categoriesTitle;function m(){return y.apply(this,arguments)}function y(){return(y=e(c)(e(s).mark((function t(){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,i.default.fetchTopBooks();case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),O(e.t0);case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}function b(){return v.apply(this,arguments)}function v(){return(v=e(c)(e(s).mark((function t(){var n,o;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,l.default)(),h.classList.add("chosen-category"),n=document.querySelector(".all-categories-list"),e(a)(n.children).forEach((function(e){e.classList.contains("chosen-category")&&e.classList.remove("chosen-category")})),t.next=7,m();case 7:o=t.sent,document.querySelector(".home-title").remove(),'<h1 class="home-title">\n      Best Sellers <span class="home-title-part"> Books </span>\n    </h1>',f.insertAdjacentHTML("afterbegin",'<h1 class="home-title">\n      Best Sellers <span class="home-title-part"> Books </span>\n    </h1>'),L(o,g),k(),(0,l.default)();case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){document.querySelectorAll(".best-books-btn").forEach((function(e){return e.addEventListener("click",w)}))}function g(e){return e.map((function(e){var t=e.author,n=e.book_image,o=e.title,r=e._id;return" <li id=".concat(r,' class="js-book best-books-link">\n                    <img class="best-book-icon" src="').concat(n,'" alt="').concat(o,'"/>\n                    <h3 class="best-book-title">').concat(o,'</h3>\n                    <p class="best-book-author">').concat(t,"</p>\n                  </li>")})).join(" ")}function L(e,t){var n=e.map((function(e){var n=e.books,o=e.list_name;return'  <div class="best-books-sections">\n            <h2 class="best-books-heder">'.concat(o,'</h2>\n            <ul class="best-books-list">\n                      ').concat(t(n),'\n            </ul>\n            <button type="submit" id="').concat(o,'" class="best-books-btn">SEE MORE</button>\n          </div>')}));p.innerHTML=n.join(" ")}function w(e){return S.apply(this,arguments)}function S(){return(S=e(c)(e(s).mark((function t(n){var o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,l.default)(),E(),e.next=4,x(n);case 4:o=e.sent,j(n),T(o,n),(0,l.default)();case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function E(){window.scrollTo(0,0)}function x(e){return q.apply(this,arguments)}function q(){return(q=e(c)(e(s).mark((function t(n){var o,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null,p.innerHTML="",e.prev=2,r=n.target.id,e.next=6,i.default.fetchCategory(r);case 6:o=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),O(e.t0);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}function j(t){var n=t.target.id;h.classList.remove("chosen-category");var o=document.querySelector(".all-categories-list");e(a)(o.children).find((function(e){return e.id===n})).classList.add("chosen-category")}function T(e,t){e&&_(e,t.target.id)}function _(e,t){var n;!function(e){var t=function(e){var t=e.split(" "),n=[];t.length>1&&n.push(t.splice(t.length-1,1).join(""));return n.unshift(t.join(" ")),n}(e);document.querySelector(".home-title").remove();var n='<h1 class="home-title">\n      '.concat(t[0],' <span class="home-title-part"> ').concat(t[1]," </span>\n    </h1>");f.insertAdjacentHTML("afterbegin",n)}(t),n=e.map((function(e){var t=e.author,n=e.book_image,o=e.title,r=e._id;return" <li id=".concat(r,' class="js-book group-book-link">\n                    <img class="group-book-icon" src="').concat(n,'" alt="').concat(o,'" width = 180px />\n                    <h4 class="group-book-title">').concat(o,'</h4>\n                    <span class="group-book-author">').concat(t,"</span>\n                  </li>")})),p.innerHTML=n.join(" "),p.classList.replace("best-books","category-book-page")}function O(e){f.innerHTML="",u.Notify.failure("OOPS!!! Something went wrong! Try reloading the page or select another BOOK CATEGORY!!!",{position:"center-center",timeout:3e3,width:"400px",fontSize:"24px"})}b();var C={categoriesSection:document.querySelector(".all-categories"),bookCategoriesList:document.querySelector(".all-categories-list"),bookCategory:document.querySelector(".category")},H=C.categoriesSection,B=C.bookCategoriesList;function A(){return M.apply(this,arguments)}function M(){return(M=e(c)(e(s).mark((function t(){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,i.default.fetchCategoryList();case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}function R(){return(R=e(c)(e(s).mark((function t(){var n,o,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:n=e.sent,o=n.sort((function(e,t){return e.list_name.localeCompare(t.list_name)})),r=o.map((function(e){var t=e.list_name;return'<li id="'.concat(t,'" class="category">').concat(t,"</li>")})),B.innerHTML=r.join(" ");case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function F(e){return N.apply(this,arguments)}function N(){return(N=e(c)(e(s).mark((function t(n){var o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null,e.prev=1,e.next=4,i.default.fetchCategory(n);case 4:o=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}function U(){return(U=e(c)(e(s).mark((function t(n){var o;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("category"!==n.target.className){t.next=15;break}return p.innerHTML="",(0,l.default)(),h.classList.remove("chosen-category"),e(a)(B.children).forEach((function(e){e.classList.contains("chosen-category")&&e.classList.remove("chosen-category")})),n.target.classList.add("chosen-category"),o=n.target.textContent,t.next=10,F(o);case 10:_(t.sent,o),(0,l.default)(),t.next=16;break;case 15:"all-categories-title"===n.target.className&&(p.innerHTML="",(0,l.default)(),b(),(0,l.default)());case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){R.apply(this,arguments)}(),H.addEventListener("click",(function(e){return U.apply(this,arguments)})),r("18VO4"),r("jzQFI"),r("46hgj"),console.log("Hello Pop Up!"),r("9VC5X");c=r("bpxeT"),s=r("2TvXO"),u=r("h6c0i"),i=r("46hgj");var Y,G=r("jzQFI");Y=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("bs6yd");var K={booksList:document.querySelector(".js-books-list"),backdrop:document.querySelector(".js-backdrop"),modalWin:document.querySelector(".js-modal-window"),closeModalBtn:document.querySelector(".js-modal-window-close-btn")};function P(){return(P=e(c)(e(s).mark((function t(n){var o,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.target.closest(".js-book")){e.next=3;break}return e.abrupt("return");case 3:return r=o.id,e.prev=4,e.next=7,i.default.fetchBookById(r);case 7:W(e.sent,K.modalWin),V(r),X(K.backdrop),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),u.Notify.failure("HTTP request failed");case 16:case"end":return e.stop()}}),t,null,[[4,13]])})))).apply(this,arguments)}function W(t,n){var o=t.title,r=t.author,c=t.description,a=t.book_image,s=t.buy_links,i=t._id,l=n.querySelector("img"),u=n.querySelector(".modal-book-title"),d=n.querySelector(".modal-book-author"),p=n.querySelector(".modal-book-description"),f=n.querySelectorAll("a"),h=n.querySelectorAll(".js-modal-btn");l.src=a||e(Y),l.alt=o,u.textContent=o,d.textContent=r,p.textContent=c||"book description missing",f.forEach((function(e){var t=s.find((function(t){return t.name.toLowerCase().includes(e.id)})).url;e.href=t})),h.forEach((function(e){e.id=i}))}function X(e){e.classList.remove("is-hidden"),document.body.style.overflow="hidden",document.addEventListener("keydown",Q),K.backdrop.addEventListener("click",I),K.closeModalBtn.addEventListener("click",z)}function z(){K.backdrop.classList.add("is-hidden"),document.body.style.overflow="",document.removeEventListener("keydown",Q),K.backdrop.removeEventListener("click",I)}function I(e){e.currentTarget===e.target&&z()}function Q(e){"Escape"===e.code&&z()}function V(e){var t=(0,G.load)(G.LOCAL_STORAGE_KEY)?(0,G.load)(G.LOCAL_STORAGE_KEY):[];t.length&&(t.some((function(t){return t===e}))?D():J())}function D(){document.querySelector(".js-add-btn").style.display="none",document.querySelector(".js-remove-btn").style.display="block",document.querySelector(".js-modal-desc-text").style.display="block"}function J(){document.querySelector(".js-remove-btn").style.display="none",document.querySelector(".js-add-btn").style.display="block",document.querySelector(".js-modal-desc-text").style.display="none"}K.booksList.addEventListener("click",(function(e){return P.apply(this,arguments)}));var Z={signUpBtn:document.querySelector(".js-sign-up"),backdrop:document.querySelector(".js-sign-up-backdrop"),closeModalBtn:document.querySelector(".js-sign-up-close")};function $(){Z.backdrop.classList.add("is-hidden"),document.body.style.overflow="",document.removeEventListener("keydown",te),Z.backdrop.removeEventListener("click",ee)}function ee(e){e.currentTarget===e.target&&$()}function te(e){"Escape"===e.code&&$()}Z.signUpBtn.addEventListener("click",(function(e){e.preventDefault(),t=Z.backdrop,t.classList.remove("is-hidden"),document.body.style.overflow="hidden",document.addEventListener("keydown",te),t.addEventListener("click",ee),Z.closeModalBtn.addEventListener("click",$);var t}));a=r("8nrFW"),G=r("jzQFI");({actionLSBtn:document.querySelector(".js-modal-buttons")}).actionLSBtn.addEventListener("click",(function(t){var n=(0,G.load)(G.LOCAL_STORAGE_KEY),o=n||[],r=t.target.id,c=null;o.some((function(e){return e===r}))?(c=o.filter((function(e){return e!==r})),J()):(c=e(a)(o).concat([r]),D());(0,G.save)(G.LOCAL_STORAGE_KEY,c)}));var ne=document.querySelector(".btnUp");ne.addEventListener("click",(function e(){window.scrollY>0&&(window.scrollBy(0,-75),setTimeout(e,0))})),window.addEventListener("scroll",(function(){var e=window.scrollY,t=document.documentElement.clientHeight;e>t?ne.classList.add("show"):ne.classList.remove("show")})),r("kvC6y")}();
//# sourceMappingURL=index.333eb5aa.js.map
